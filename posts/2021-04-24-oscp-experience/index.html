<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>My OSCP experience | mzfr's Blog</title><meta name=keywords content><meta name=description content="So it finally happened, I got my OSCP. This blog post is going to be just me talking about what I did right, what I did wrong and maybe some tips for people who plan to take the exam in the future.
PWK Course Also, known as PEN-200 is the course one takes in order to get their OSCP Certification. The official definition for this course is as follows:
 Penetration Testing with Kali Linux (PEN-200) is the foundational course at Offensive Security."><meta name=author content><link rel=canonical href=https://blog.mzfr.me/posts/2021-04-24-oscp-experience/><link href=https://blog.mzfr.me/assets/css/stylesheet.min.5baf04febe2267df4c63da0fdc6ddc3ba4a7896651a0ef2a638126272da2948d.css integrity="sha256-W68E/r4iZ99MY9oP3G3cO6SniWZRoO8qY4EmJy2ilI0=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.mzfr.me/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.mzfr.me/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.mzfr.me/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.mzfr.me/apple-touch-icon.png><link rel=mask-icon href=https://blog.mzfr.me/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.83.1"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/gruvbox-dark.min.css integrity="sha512-H+WY7zsI0kQwkbYE+yp/9vg/UzpiyuKERzpxOaGwKCc7iFoNpi0h3mQ4GpZMO9lDaVzc1xjD3e6g/UMuUlOicg==" crossorigin=anonymous><script data-ad-client=ca-pub-1450519482686010 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-147356794-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script><meta property="og:title" content="My OSCP experience"><meta property="og:description" content="So it finally happened, I got my OSCP. This blog post is going to be just me talking about what I did right, what I did wrong and maybe some tips for people who plan to take the exam in the future.
PWK Course Also, known as PEN-200 is the course one takes in order to get their OSCP Certification. The official definition for this course is as follows:
 Penetration Testing with Kali Linux (PEN-200) is the foundational course at Offensive Security."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.mzfr.me/posts/2021-04-24-oscp-experience/"><meta property="article:published_time" content="2021-04-26T00:00:00+00:00"><meta property="article:modified_time" content="2021-04-26T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="My OSCP experience"><meta name=twitter:description content="So it finally happened, I got my OSCP. This blog post is going to be just me talking about what I did right, what I did wrong and maybe some tips for people who plan to take the exam in the future.
PWK Course Also, known as PEN-200 is the course one takes in order to get their OSCP Certification. The official definition for this course is as follows:
 Penetration Testing with Kali Linux (PEN-200) is the foundational course at Offensive Security."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"My OSCP experience","name":"My OSCP experience","description":"So it finally happened, I got my OSCP. This blog post is going to be just me talking about what I did right, what I did wrong and maybe some tips for people who plan to take the ‚Ä¶","keywords":[],"articleBody":"So it finally happened, I got my OSCP. This blog post is going to be just me talking about what I did right, what I did wrong and maybe some tips for people who plan to take the exam in the future.\nPWK Course Also, known as PEN-200 is the course one takes in order to get their OSCP Certification. The official definition for this course is as follows:\n Penetration Testing with Kali Linux (PEN-200) is the foundational course at Offensive Security. Those new to OffSec or penetration testing should start here.\n I bought the course on March 6th, 2021, and it was supposed to start on March 14th, 2021. I bought 30 days of labs and paid 999 USD (~73,154.77 INR). So the first tips would be to only go for 30 days lab iff:\n you already have some experience with HackTheBox/Vulnhub/Proving Ground. you are free for the next 30 days(if you plan to do more than 40 machines in labs)  About the course Course material Talking about the course, Offsec provides you a PDF and the videos. The PDF contains all the information you could possibly need while doing the labs or while giving the exam. Most people like to go through all the videos first and then start with labs. But I didn‚Äôt watch the videos at all and only went through the PDF for certain sections which seemed new to me.\nIf you are someone who has experience with boot2root machines then you‚Äôd be very comfortable setting up the VPN and starting the labs. If you are a total beginner then I would highly recommend going through every page of the course PDF.\nLabs There are around 60-65 machines in the labs. I was able to root all of them but there were a lot of machines in which I had to go through the forum post to get some hints and in some, I had to ask @nikhil for some hints. There are definitely some machines in which you‚Äôll just lose your mind completely even when you know what to do. But all in all, it‚Äôs a bittersweet ride.\nHere also I recommend that you try to root all the machines. And that would only be possible if you do around 2-3 machines a day. Some machines were very easy and there were few days when I rooted almost around 5-6 host in a day. But then there were days where I was totally burned out and\nEnumeration/Reconnoissance I think this is the most important part in order to pass OSCP. That is because you know the machine is exploitable but you don‚Äôt know the entry point or the service which is actually exploitable so you just need to enumerate until you find that.\nMy tip here would be to make your own workflow. Just do labs and as you go you learn what works, what doesn‚Äôt work, and then according to that decide what you want to do, how you want to do it. Maybe read all the OSCP experience blog posts and see what people suggested and then see what worked for you and then make your own thing.\nMy enumeration methodology Mine was simple just run nmap scan on the machine, I used to run two scans first one was for --top-ports 5000(top 5000 ports), and another one was a full port scan(-p-) which I would run in tmux. Once the scan would complete I would see all the running services and start going through them one by one.\nEx: Say a machine is running smb, ftp, and HTTP. So I‚Äôll just see if FTP allows anonymous logins or not. If yes then see what is present inside FTP. With SMB service I would run: nmap --script 'smb-vuln*' -p139,445 IP, to see if SMB is vulnerable to any famous CVE.\nI never used tools like AutoRecon or Reconnoitre for recon process. Also if you are not aware of it, @_superhero1 failed OSCP because they used linpeas.sh(the decision was later altered by offsec and @_superhero1 passed OSCP).\nI am mentioning this because offsec released a blog post in which they emphasize that how one should spend time reviewing the code that a person is running. That is why I suggested making your own workflow. That workflow would not only include a checklist/methodology but will also make you come up with your own tools. Ex: Run 3 different enumeration scripts (e.g: linpeas, LinEnum, lse.sh), and see what all they do, and then make your own combining all the important things you liked from them.\nP.S - You can read the full offsec blog post here\nTwist before the exam My labs were supposed to end on 14 April 2021 but then I got COVID. I got my first symptom on the 7th of April,2021. It started with a fever and then I had a bit of cough. Even though I didn‚Äôt had any serious issue, I didn‚Äôt felt like continuing with the labs. Actually, I was already done with all the labs but didn‚Äôt do any of the course exercises.\nSo this is another tip, do all the course exercises because writeup for course exercises + writeup for 10 Lab machines will give you 5 bonus points. And these points can turn out to be a lifesaver for you. So I highly recommend doing exercises.\nExam I started my exam at 11:30 AM and the first machine I attacked was the Buffer Overflow, while I ran a full port scan on 2(25 pts and 20 pts) other hosts in the background. I was expecting to finish the BoF machine in around 30-45 minutes but it took me 1:30 hour to finish the machine + the writeup for the machine. I feel I took extra time here because in the very starting I was completely lost with BoF and had to go through my notes once to recall all the things which should be done to do BoF. But once I got in the zone and started doing ‚Äúthings‚Äù I was easily able to root the machine. Once I rooted that machine, I took a 5-10 minutes break.\nWhen I came back from the break the two scans which I ran in the background were completed. I just picked the 25 point host and started to enumerate it. Gaining the initial shell on that machine wasn‚Äôt hard at all but I had some complications while doing the privilege escalation. But in around 2 - 2:30 hours I was able to get a root shell on that host as well. So I took another break. My plan was to root at least 3 machines in the first 6 hours and then take a good long break. And I was perfectly able to execute that plan. I was able to root another 10 points host. So in around 6 - 6:15 hours, I got root access on 3 hosts.\nThis was the part where the problems began for me. When I came back from a good long break I started attacking the 20 points machine. I did a lot of stupid mistakes but in around 1 - 1:30 hours I was able to get the initial shell on the host. Now I had/have this mentality where I feel that initial foothold is always harder than privilege escalation, so the moment I got a shell on the host I was super pumped and almost chalked this host as ‚Äúrooted‚Äù but that was the mistake. I spent the next 3 hours trying to find the privilege escalation for this machine but couldn‚Äôt find it. So I just decided to go for dinner and thought taking a break would help me. But it didn‚Äôt, I took about a 45-minute break for dinner but when I came back I reverted the machine and re-scanned it to make sure I wasn‚Äôt missing anything but nothing, I just couldn‚Äôt find the privilege escalation. I completely dropped that machine and started doing the last 20 points machine. Spent about 2 hours trying to find the entry point but couldn‚Äôt do it. So I just decided to go to bed.\nThe next morning, I woke up at 6:30 and then came back to try PE on a 20 point machine and to find an initial foothold on another 20 point machine. I continuously worked on these machines for almost 3 - 3:30 hours but didn‚Äôt progress at all. It was around 9:45 when I decided to gather all the screenshots etc for the report. By 11:00 AM I was done with my report. My exam ended at 11:30 AM and even though I was done with the report I didn‚Äôt submit the report until 10 PM.\nWhen I finally submitted my report I was really scared because in order to pass the exam one needs 70 points and I have rooted 2 25 points machines, a 10 points machine, and just local access on another 20 points machine. Basically, I was standing on the border, so if I mess up my report or anything I wouldn‚Äôt have passed my exam. This was the point where I was thinking, ‚ÄúI should have done those course exercises in order to get those bonus points‚Äù. So that is why I‚Äôll say it again, do Course exercises.\nP.S - This point calculation etc is done from my side only offensive security doesn‚Äôt give you any feedback about how much you scored.\nResult After 24 hours of submitting the report, I got an email saying that I have passed the exam. I was really happy and also surprised that I cleared the exam.\nIn the end, all it matters is that you pass the exam :)\nSuggestions \u0026 Tips Other than the ones I gave above following are some tips/suggestions I would give to anyone planning to take the exam:\n Exam is 24 hours long, no need to rush things take your time.  After reading a lot of blog posts I was also feeling like if I could finish the exam in 9-12 hours it would be so awesome etc but seriously it‚Äôs not a competition just take your time.   Take breaks, whether they are dinner/sleep or just a 5 minute ‚Äúaway from the screen‚Äù break. Revert the machines, the moment you start to feel like you‚Äôve tried everything and nothing seems to work, just revert the machine and see if you notice any changes either in the output of your scans or the services running. Sleep well before the exam.  Might be difficult because of all the anxiety but a good night‚Äôs sleep will definitely help you.   Check everything is working before the exam  Whether you are using a VM or WSL just make sure it‚Äôs working. If you are using the external camera make sure it‚Äôs working properly.   While doing labs make your own notes  They don‚Äôt have to be very descriptive but just write down things in your own words. Ex: Before starting the 30 days labs I wasn‚Äôt really comfortable with boot2root machines with windows OS. So while I did all the windows machines from the lab I made a list of things I would check in the windows machine, for privilege escalation.    Q\u0026A What was your setup for the exam? I was using Windows as my Host OS and I had kali Linux running in WSL2. I was running GUI applications with the help of tmux and xlaunch. Along with that, I was using Logitech‚Äôs external webcam. I didn‚Äôt have multiple screens, I just had 1 screen.\nI used xlaunch because for me win-kex was causing some trouble.\nP.S - I‚Äôll be writing a new blog post explaining the win-kex issue and all the possible fixes for it.\nWhat did you use for report writing? I use obsidian for my note-taking so I used it for writing the report. And I was using this template for the report.\nNOTE: I had made a lot of changes to that template so the generate.rb didn‚Äôt generate the report for me. So I had to manually add some stuff to the template and then generate the PDF using the obsidian‚Äôs export as PDF feature.\nIs the exam hard? This depends on the amount of practice you have done. I personally felt that it was somewhere between easy and hard üòâ. During the exams, I felt some machines were pretty easy and some made me lose my patience and temper.\nHow to avoid rabbit holes? Well, no one can answer this question. This also comes with practice and experience. You should know how much to dig and when to stop looking at that place. I personally avoided them just by following few simple steps: - I would run nmap‚Äôs vulner script on all the running services. - Then open all those CVE/vuln links in the browser - And pick the one which was something that could get me a shell.\nEx: Say that port 21,445,139,8080 is open and you run vulner on all those ports and got like 10 links to different CVE‚Äôs. Just open them all and either read their title/name or their descriptions. Vulnerabilities like Denial of services(DOS) or XSS could just be ignored since those giving a shell is very rare. So pick something like RCE or some famous CVE.\nNote: This is something that worked for me. I am not claiming that this will work 100% of the time.\nDid you had to use Metasploit?  During the exam? - No During labs? - Yes, sometimes.  Did you record your screen during the exam? UPDATED: Turns out offsec doesn‚Äôt allow to record the screen now. Thanks to @MuirlandOracle for pointing it out. You can read more about recording the screen here.\nI‚Äôve read that lot of people used OBS to record their screen while they were giving the exam but I didn‚Äôt do it. I am used to writing the reports/walkthroughs while doing the machine ever since I started doing boot2root in 2019. So I just didn‚Äôt record anything. I took all the screenshots and recorded all the necessary outputs as I did the machine.\nBut this could be something useful so if your system is powerful enough that it can share your screen via a browser and then record the screen(s) via another tool then sure go ahead and do it.\nWhich browser did you use during the exam? This might sound a stupid question but when I went through the Proctoring-Tool-Student-Manual in that Step 3 talks about Janus Plugin Installation. Now if you google you‚Äôll see that that plugin is only available for chrome. So I thought that chrome might be the requirement of the exam but it‚Äôs actually not.\nIf you use Firefox as your default browser then no need to install anything. Everything worked perfectly during proctoring in firefox as well, without having to install any tool/plugin.\nHow to practice Buffer Overflow? Just do Buffer Overflow Prep room on TryHackMe by tib3rius. After that just practice with the PWK course and labs. No need to do anything else. That will be more than enough.\nAre your notes public? Nope, but I can list a few websites/guides I would check whenever I felt I was stuck.\n For Linux Privilege escalation - https://sushant747.gitbooks.io/total-oscp-guide/privilege_escalation_-_linux.html For Windows Privilege escalation - https://sushant747.gitbooks.io/total-oscp-guide/content/privilege_escalation_windows.html If SMB was running then run: nmap --script 'smb-vuln*' -p139,445 IP For Shell escape  https://www.exploit-db.com/docs/english/44592-linux-restricted-shell-bypass-guide.pdf echo os.system(\"/bin/bash\") https://fireshellsecurity.team/restricted-linux-shell-escaping-techniques/     Thanks for reading, feedback is always appreciated.\nYou can follow me on @0xmzfr.\n","wordCount":"2576","inLanguage":"en","datePublished":"2021-04-26T00:00:00Z","dateModified":"2021-04-26T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.mzfr.me/posts/2021-04-24-oscp-experience/"},"publisher":{"@type":"Organization","name":"mzfr's Blog","logo":{"@type":"ImageObject","url":"https://blog.mzfr.me/favicon.ico"}}}</script></head><body><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>.theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://blog.mzfr.me accesskey=h>mzfr's Blog</a>
<span class=logo-switches><span class=theme-toggle><a id=theme-toggle accesskey=t><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></a></span></span></div><ul class=menu id=menu onscroll=menu_on_scroll()><li><a href=https://blog.mzfr.me/><span>Home</span></a></li><li><a href=https://blog.mzfr.me/posts/><span>Blog</span></a></li><li><a href=https://blog.mzfr.me/about/><span>About</span></a></li><li><a href=https://github.com/mzfr/notes/wiki/><span>Notes</span></a></li><li><a href=https://blog.mzfr.me/ctf/><span>Writeups</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>My OSCP experience</h1><div class=post-meta>April 26, 2021&nbsp;¬∑&nbsp;13 min</div></header><div class=post-content><p>So it finally happened, I got my <a href=https://www.credly.com/earner/earned/badge/537571f6-6d4c-4aec-ab49-991bdd570e04>OSCP</a>. This blog post is going to be just me talking about what I did right, what I did wrong and maybe some tips for people who plan to take the exam in the future.</p><h1 id=pwk-course>PWK Course<a hidden class=anchor aria-hidden=true href=#pwk-course>#</a></h1><p>Also, known as <a href=https://www.offensive-security.com/pwk-oscp/><code>PEN-200</code></a> is the course one takes in order to get their OSCP Certification. The official definition for this course is as follows:</p><blockquote><p>Penetration Testing with Kali Linux (PEN-200) is the foundational course at Offensive Security. Those new to OffSec or penetration testing should start here.</p></blockquote><p>I bought the course on March 6th, 2021, and it was supposed to start on March 14th, 2021. I bought 30 days of labs and paid 999 USD (~73,154.77 INR). So the <strong>first tips</strong> would be to only go for 30 days lab iff:</p><ul><li>you already have some experience with HackTheBox/Vulnhub/Proving Ground.</li><li>you are free for the next 30 days(if you plan to do more than 40 machines in labs)</li></ul><h2 id=about-the-course>About the course<a hidden class=anchor aria-hidden=true href=#about-the-course>#</a></h2><h3 id=course-material>Course material<a hidden class=anchor aria-hidden=true href=#course-material>#</a></h3><p>Talking about the course, Offsec provides you a PDF and the videos. The PDF contains all the information you could possibly need while doing the labs or while giving the exam. Most people like to go through all the videos first and then start with labs. But I didn&rsquo;t watch the videos at all and only went through the PDF for certain sections which seemed new to me.</p><p>If you are someone who has experience with boot2root machines then you&rsquo;d be very comfortable setting up the VPN and starting the labs. If you are a total beginner then I would highly recommend going through every page of the course PDF.</p><h3 id=labs>Labs<a hidden class=anchor aria-hidden=true href=#labs>#</a></h3><p>There are around 60-65 machines in the labs. I was able to root all of them but there were a lot of machines in which I had to go through the forum post to get some hints and in some, I had to ask <a href=https://twitter.com/0xw0lf>@nikhil</a> for some hints. There are definitely some machines in which you&rsquo;ll just lose your mind completely even when you know what to do. But all in all, it&rsquo;s a bittersweet ride.</p><p>Here also I recommend that you try to root all the machines. And that would only be possible if you do around 2-3 machines a day. Some machines were very easy and there were few days when I rooted almost around 5-6 host in a day. But then there were days where I was totally burned out and</p><h1 id=enumerationreconnoissance>Enumeration/Reconnoissance<a hidden class=anchor aria-hidden=true href=#enumerationreconnoissance>#</a></h1><p>I think this is the most important part in order to pass OSCP. That is because you know the machine is exploitable but you don&rsquo;t know the entry point or the service which is actually exploitable so you just need to enumerate until you find that.</p><p>My tip here would be to make your own workflow. Just do labs and as you go you learn what works, what doesn&rsquo;t work, and then according to that decide what you want to do, how you want to do it. Maybe read all the <code>OSCP experience</code> blog posts and see what people suggested and then see what worked for you and then make your own thing.</p><h3 id=my-enumeration-methodology>My enumeration methodology<a hidden class=anchor aria-hidden=true href=#my-enumeration-methodology>#</a></h3><p>Mine was simple just run <code>nmap</code> scan on the machine, I used to run two scans first one was for <code>--top-ports 5000</code>(top 5000 ports), and another one was a full port scan(<code>-p-</code>) which I would run in <a href=https://github.com/tmux/tmux/wiki><code>tmux</code></a>. Once the scan would complete I would see all the running services and start going through them one by one.</p><p><strong>Ex</strong>: Say a machine is running <code>smb</code>, <code>ftp</code>, and <code>HTTP</code>. So I&rsquo;ll just see if FTP allows anonymous logins or not. If yes then see what is present inside FTP.
With SMB service I would run: <code>nmap --script 'smb-vuln*' -p139,445 IP</code>, to see if SMB is vulnerable to any famous CVE.</p><p>I never used tools like <a href=https://github.com/Tib3rius/AutoRecon><code>AutoRecon</code></a> or <a href=https://github.com/codingo/Reconnoitre><code>Reconnoitre</code></a> for recon process. Also if you are not aware of it, <a href=https://twitter.com/_superhero1/status/1385206684109447168>@_superhero1 failed OSCP because they used linpeas.sh</a>(the decision was later altered by offsec and <strong>@_superhero1 passed OSCP</strong>).</p><p>I am mentioning this because offsec released a blog post in which they emphasize that how one should spend time reviewing the code that a person is running. That is why I suggested making your own workflow. That workflow would not only include a checklist/methodology but will also make you come up with your own tools. <strong>Ex:</strong> Run 3 different enumeration scripts (e.g: linpeas, LinEnum, lse.sh), and see what all they do, and then make your own combining all the important things you liked from them.</p><p>P.S - You can read the full offsec blog post <a href=https://www.offensive-security.com/offsec/understanding-pentest-tools-scripts/>here</a></p><h1 id=twist-before-the-exam>Twist before the exam<a hidden class=anchor aria-hidden=true href=#twist-before-the-exam>#</a></h1><p>My labs were supposed to end on 14 April 2021 but then I got COVID. I got my first symptom on the 7th of April,2021. It started with a fever and then I had a bit of cough. Even though I didn&rsquo;t had any serious issue, I didn&rsquo;t felt like continuing with the labs. Actually, I was already done with all the labs but didn&rsquo;t do any of the course exercises.</p><p>So this is another <strong>tip</strong>, do all the course exercises because writeup for course exercises + writeup for 10 Lab machines will give you <a href=https://help.offensive-security.com/hc/en-us/articles/360040165632-OSCP-Exam-Guide#bonus-points>5 bonus points</a>. And these points can turn out to be a lifesaver for you. So I highly recommend doing exercises.</p><h1 id=exam>Exam<a hidden class=anchor aria-hidden=true href=#exam>#</a></h1><p>I started my exam at 11:30 AM and the first machine I attacked was the Buffer Overflow, while I ran a full port scan on 2(25 pts and 20 pts) other hosts in the background. I was expecting to finish the BoF machine in around 30-45 minutes but it took me 1:30 hour to finish the machine + the writeup for the machine. I feel I took extra time here because in the very starting I was completely lost with BoF and had to go through my notes once to recall all the things which should be done to do BoF. But once I got in the zone and started doing &ldquo;things&rdquo; I was easily able to root the machine. Once I rooted that machine, I took a 5-10 minutes break.</p><p>When I came back from the break the two scans which I ran in the background were completed. I just picked the 25 point host and started to enumerate it. Gaining the initial shell on that machine wasn&rsquo;t hard at all but I had some complications while doing the privilege escalation. But in around 2 - 2:30 hours I was able to get a root shell on that host as well. So I took another break. My plan was to root at least 3 machines in the first 6 hours and then take a good long break. And I was perfectly able to execute that plan. I was able to root another 10 points host. So in around 6 - 6:15 hours, I got root access on 3 hosts.</p><p>This was the part where the problems began for me. When I came back from a good long break I started attacking the 20 points machine. I did a lot of stupid mistakes but in around 1 - 1:30 hours I was able to get the initial shell on the host. Now I had/have this mentality where I feel that initial foothold is always harder than privilege escalation, so the moment I got a shell on the host I was super pumped and almost chalked this host as &ldquo;rooted&rdquo; but that was the mistake. I spent the next 3 hours trying to find the privilege escalation for this machine but couldn&rsquo;t find it. So I just decided to go for dinner and thought taking a break would help me. But it didn&rsquo;t, I took about a 45-minute break for dinner but when I came back I reverted the machine and re-scanned it to make sure I wasn&rsquo;t missing anything but nothing, I just couldn&rsquo;t find the privilege escalation. I completely dropped that machine and started doing the last 20 points machine. Spent about 2 hours trying to find the entry point but couldn&rsquo;t do it. So I just decided to go to bed.</p><p>The next morning, I woke up at 6:30 and then came back to try PE on a 20 point machine and to find an initial foothold on another 20 point machine. I continuously worked on these machines for almost 3 - 3:30 hours but didn&rsquo;t progress at all. It was around 9:45 when I decided to gather all the screenshots etc for the report. By 11:00 AM I was done with my report. My exam ended at 11:30 AM and even though I was done with the report I didn&rsquo;t submit the report until 10 PM.</p><p>When I finally submitted my report I was really scared because in order to pass the exam one needs 70 points and I have rooted 2 25 points machines, a 10 points machine, and just local access on another 20 points machine. Basically, I was standing on the border, so if I mess up my report or anything I wouldn&rsquo;t have passed my exam. This was the point where I was thinking, &ldquo;I should have done those course exercises in order to get those bonus points&rdquo;. So that is why I&rsquo;ll say it again, <strong>do Course exercises</strong>.</p><p>P.S - This point calculation etc is done from my side only offensive security doesn&rsquo;t give you any feedback about how much you scored.</p><h1 id=result>Result<a hidden class=anchor aria-hidden=true href=#result>#</a></h1><p>After 24 hours of submitting the report, I got an email saying that I have passed the exam. I was really happy and also surprised that I cleared the exam.</p><p><img src=/images/oscp.png alt></p><p>In the end, all it matters is that you <code>pass</code> the exam :)</p><h1 id=suggestions--tips>Suggestions & Tips<a hidden class=anchor aria-hidden=true href=#suggestions--tips>#</a></h1><p>Other than the ones I gave above following are some tips/suggestions I would give to anyone planning to take the exam:</p><ul><li>Exam is 24 hours long, no need to rush things take your time.<ul><li>After reading a lot of blog posts I was also feeling like if I could finish the exam in 9-12 hours it would be so awesome etc but seriously it&rsquo;s not a competition just take your time.</li></ul></li><li>Take breaks, whether they are dinner/sleep or just a 5 minute &ldquo;away from the screen&rdquo; break.</li><li>Revert the machines, the moment you start to feel like you&rsquo;ve tried everything and nothing seems to work, just revert the machine and see if you notice any changes either in the output of your scans or the services running.</li><li>Sleep well before the exam.<ul><li>Might be difficult because of all the anxiety but a good night&rsquo;s sleep will definitely help you.</li></ul></li><li>Check everything is working before the exam<ul><li>Whether you are using a VM or WSL just make sure it&rsquo;s working.</li><li>If you are using the external camera make sure it&rsquo;s working properly.</li></ul></li><li>While doing labs make your own notes<ul><li>They don&rsquo;t have to be very descriptive but just write down things in your own words.</li><li>Ex: Before starting the 30 days labs I wasn&rsquo;t really comfortable with boot2root machines with windows OS. So while I did all the windows machines from the lab I made a list of things I would check in the windows machine, for privilege escalation.</li></ul></li></ul><h1 id=qa>Q&A<a hidden class=anchor aria-hidden=true href=#qa>#</a></h1><h3 id=what-was-your-setup-for-the-exam><em>What was your setup for the exam?</em><a hidden class=anchor aria-hidden=true href=#what-was-your-setup-for-the-exam>#</a></h3><p>I was using Windows as my Host OS and I had kali Linux running in WSL2. I was running GUI applications with the help of tmux and <a href=http://www.straightrunning.com/XmingNotes/IDH_PROGRAM.htm>xlaunch</a>. Along with that, I was using Logitech&rsquo;s external webcam. I didn&rsquo;t have multiple screens, I just had 1 screen.</p><p>I used xlaunch because for me <a href=https://www.kali.org/docs/wsl/win-kex/><code>win-kex</code></a> was causing some <a href=https://github.com/microsoft/WSL/discussions/6675#discussion-3274303>trouble</a>.</p><p>P.S - I&rsquo;ll be writing a new blog post explaining the win-kex issue and all the possible fixes for it.</p><h3 id=what-did-you-use-for-report-writing><em>What did you use for report writing?</em><a hidden class=anchor aria-hidden=true href=#what-did-you-use-for-report-writing>#</a></h3><p>I use <a href=https://obsidian.md/>obsidian</a> for my note-taking so I used it for writing the report. And I was using <a href=https://github.com/noraj/OSCP-Exam-Report-Template-Markdown/blob/master/src/OSCP-exam-report-template_whoisflynn_v3.2.md>this</a> template for the report.</p><p><strong>NOTE:</strong> I had made a lot of changes to that template so the <a href=https://github.com/noraj/OSCP-Exam-Report-Template-Markdown/blob/master/generate.rb>generate.rb</a> didn&rsquo;t generate the report for me. So I had to manually add some stuff to the template and then generate the PDF using the obsidian&rsquo;s <code>export as PDF</code> feature.</p><h3 id=is-the-exam-hard><em>Is the exam hard?</em><a hidden class=anchor aria-hidden=true href=#is-the-exam-hard>#</a></h3><p>This depends on the amount of practice you have done. I personally felt that it was somewhere between easy and hard üòâ. During the exams, I felt some machines were pretty easy and some made me lose my patience and temper.</p><h3 id=how-to-avoid-rabbit-holes><em>How to avoid rabbit holes?</em><a hidden class=anchor aria-hidden=true href=#how-to-avoid-rabbit-holes>#</a></h3><p>Well, no one can answer this question. This also comes with practice and experience. You should know how much to dig and when to stop looking at that place. I personally avoided them just by following few simple steps:
- I would run nmap&rsquo;s <a href=https://github.com/vulnersCom/nmap-vulners>vulner script</a> on all the running services.
- Then open all those CVE/vuln links in the browser
- And pick the one which was something that could get me a shell.</p><p>Ex: Say that port 21,445,139,8080 is open and you run <code>vulner</code> on all those ports and got like 10 links to different CVE&rsquo;s. Just open them all and either read their title/name or their descriptions. Vulnerabilities like <code>Denial of services(DOS)</code> or <code>XSS</code> could just be ignored since those giving a shell is very rare. So pick something like <code>RCE</code> or some famous CVE.</p><p><strong>Note:</strong> This is something that worked for me. I am not claiming that this will work 100% of the time.</p><h3 id=did-you-had-to-use-metasploit><em>Did you had to use Metasploit?</em><a hidden class=anchor aria-hidden=true href=#did-you-had-to-use-metasploit>#</a></h3><ul><li>During the exam? - No</li><li>During labs? - Yes, sometimes.</li></ul><h3 id=did-you-record-your-screen-during-the-exam>Did you record your screen during the exam?<a hidden class=anchor aria-hidden=true href=#did-you-record-your-screen-during-the-exam>#</a></h3><p><strong>UPDATED</strong>: Turns out offsec doesn&rsquo;t allow to record the screen now. Thanks to <a href=https://twitter.com/MuirlandOracle>@MuirlandOracle</a> for <a href=https://twitter.com/MuirlandOracle/status/1386987176454410240>pointing it out</a>. You can read more about recording the screen <a href=https://help.offensive-security.com/hc/en-us/articles/360040576311-Can-I-record-my-screen-when-taking-the-exam->here</a>.</p><p>I&rsquo;ve read that lot of people used OBS to record their screen while they were giving the exam but I <strong>didn&rsquo;t</strong> do it. I am used to writing the reports/walkthroughs while doing the machine ever since I started doing boot2root in 2019. So I just didn&rsquo;t record anything. I took all the screenshots and recorded all the necessary outputs as I did the machine.</p><p>But this could be something useful so if your system is powerful enough that it can share your screen via a browser and then record the screen(s) via another tool then sure go ahead and do it.</p><h3 id=which-browser-did-you-use-during-the-exam>Which browser did you use during the exam?<a hidden class=anchor aria-hidden=true href=#which-browser-did-you-use-during-the-exam>#</a></h3><p>This might sound a stupid question but when I went through the <a href=https://help.offensive-security.com/hc/en-us/articles/360050299352-Proctoring-Tool-Student-Manual>Proctoring-Tool-Student-Manual</a> in that <code>Step 3</code> talks about Janus Plugin Installation. Now if you google you&rsquo;ll see that that plugin is only available for chrome. So I thought that chrome might be the requirement of the exam but it&rsquo;s actually not.</p><p>If you use Firefox as your default browser then no need to install anything. Everything worked perfectly during proctoring in firefox as well, without having to install any tool/plugin.</p><h3 id=how-to-practice-buffer-overflow><em>How to practice Buffer Overflow?</em><a hidden class=anchor aria-hidden=true href=#how-to-practice-buffer-overflow>#</a></h3><p>Just do <a href=https://tryhackme.com/room/bufferoverflowprep>Buffer Overflow Prep</a> room on <a href=https://tryhackme.com/>TryHackMe</a> by <a href=https://tryhackme.com/p/Tib3rius>tib3rius</a>. After that just practice with the PWK course and labs. No need to do anything else. That will be more than enough.</p><h3 id=are-your-notes-public><em>Are your notes public?</em><a hidden class=anchor aria-hidden=true href=#are-your-notes-public>#</a></h3><p>Nope, but I can list a few websites/guides I would check whenever I felt I was stuck.</p><ul><li>For Linux Privilege escalation - <a href=https://sushant747.gitbooks.io/total-oscp-guide/privilege_escalation_-_linux.html>https://sushant747.gitbooks.io/total-oscp-guide/privilege_escalation_-_linux.html</a></li><li>For Windows Privilege escalation - <a href=https://sushant747.gitbooks.io/total-oscp-guide/content/privilege_escalation_windows.html>https://sushant747.gitbooks.io/total-oscp-guide/content/privilege_escalation_windows.html</a></li><li>If SMB was running then run: <code>nmap --script 'smb-vuln*' -p139,445 IP</code></li><li>For Shell escape<ul><li><a href=https://www.exploit-db.com/docs/english/44592-linux-restricted-shell-bypass-guide.pdf>https://www.exploit-db.com/docs/english/44592-linux-restricted-shell-bypass-guide.pdf</a></li><li><code>echo os.system("/bin/bash")</code></li><li><a href=https://fireshellsecurity.team/restricted-linux-shell-escaping-techniques/>https://fireshellsecurity.team/restricted-linux-shell-escaping-techniques/</a></li></ul></li></ul><hr><p>Thanks for reading, feedback is always appreciated.</p><p>You can follow me on <a href=https://twitter.com/0xmzfr>@0xmzfr</a>.</p></div><footer class=post-footer></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://blog.mzfr.me>mzfr's Blog</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><button class=top-link id=top-link type=button aria-label="go to top" title="Go to Top" accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6"><path d="M12 6H0l6-6z"/></svg></button>
<script defer src=https://blog.mzfr.me/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position"))};var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")},mybutton.onclick=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,window.location.hash=''};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft)}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>